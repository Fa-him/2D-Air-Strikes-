const _0x367e7c=_0x57ad;(function(_0x5713ab,_0x49ddc1){const _0x3b02a1=_0x57ad,_0x2b90ca=_0x5713ab();while(!![]){try{const _0xe3367=parseInt(_0x3b02a1(0x1f4))/0x1+parseInt(_0x3b02a1(0x22d))/0x2*(-parseInt(_0x3b02a1(0x206))/0x3)+-parseInt(_0x3b02a1(0x205))/0x4+parseInt(_0x3b02a1(0x220))/0x5+parseInt(_0x3b02a1(0x239))/0x6+-parseInt(_0x3b02a1(0x21c))/0x7+parseInt(_0x3b02a1(0x234))/0x8;if(_0xe3367===_0x49ddc1)break;else _0x2b90ca['push'](_0x2b90ca['shift']());}catch(_0x11ca96){_0x2b90ca['push'](_0x2b90ca['shift']());}}}(_0x5320,0xcf544));function _0x5320(){const _0x5590fb=['8160860CCLgKX','bgVideo','0\x200\x2020px\x20black','getElementById','font','assets/heart.png','length','16px\x20Arial','ArrowLeft','arc','setItem','red','drawImage','5410tsIzDH','padding','src','appendChild','position','lives','width','3627720pIAPmp','save','transform','speed','createElement','4444272wVCIWM','restartBtn','splice','div','assets/bg.mp3','onclick','fontSize','min','assets/player.jpeg','Score:\x20','play','color','currentTime','resize','height','push','<br><button\x20id=\x22restartBtn\x22>Restart</button>','assets/bullet.png','stroke','max','catch','true','key','white','50%','931763RyhpXP','style','then','keydown','restore','18px','assets/explode.mp3','fillStyle','fillRect','getUserMedia','background','borderRadius','assets/heart.mp3','boxShadow','videoHeight','reload','Game\x20Over!<br>Score:\x20','4213660cvkFmM','1146bFOcVC','assets/enemy.jpeg','random','removeItem','strokeStyle','score','forEach','Lives:\x20','keyup','error','ArrowRight','lime','videoWidth','fillText','fixed','getItem','filter','10px','abs','volume','addEventListener','musicPlayed','5755169JAqtwQ','body','bullets','left'];_0x5320=function(){return _0x5590fb;};return _0x5320();}import{getIndexFingerTip}from'./handcontrol.js';const canvas=document[_0x367e7c(0x223)]('gameCanvas'),ctx=canvas['getContext']('2d'),playerImg=new Image();playerImg['src']=_0x367e7c(0x241);const enemyImg=new Image();enemyImg[_0x367e7c(0x22f)]=_0x367e7c(0x207);const bulletImg=new Image();bulletImg[_0x367e7c(0x22f)]=_0x367e7c(0x1ec);const heartImg=new Image();heartImg[_0x367e7c(0x22f)]=_0x367e7c(0x225);const bgMusic=new Audio(_0x367e7c(0x23d));bgMusic['loop']=![],bgMusic[_0x367e7c(0x219)]=0.3;const explodeSound=new Audio(_0x367e7c(0x1fa));explodeSound[_0x367e7c(0x219)]=0.6;const heartSound=new Audio(_0x367e7c(0x200));function _0x57ad(_0x2660cf,_0x17f6a9){const _0x5320b7=_0x5320();return _0x57ad=function(_0x57ad2f,_0x43270b){_0x57ad2f=_0x57ad2f-0x1e9;let _0x3fc82d=_0x5320b7[_0x57ad2f];return _0x3fc82d;},_0x57ad(_0x2660cf,_0x17f6a9);}heartSound[_0x367e7c(0x219)]=0.7;const video=document[_0x367e7c(0x223)](_0x367e7c(0x221));navigator['mediaDevices'][_0x367e7c(0x1fd)]({'video':!![]})['then'](_0x50ce24=>{const _0x4d447e=_0x367e7c;video['srcObject']=_0x50ce24,video[_0x4d447e(0x243)](),video[_0x4d447e(0x21a)]('loadeddata',()=>gameLoop());})['catch'](_0x3ae381=>{const _0x905972=_0x367e7c;alert('Camera\x20access\x20denied.'),console[_0x905972(0x20f)](_0x3ae381);});const player={'x':0x0,'y':0x0,'width':0x28,'height':0x28,'speed':0x7,'bullets':[],'lives':0x3,'score':0x0};function resizeCanvas(){const _0x51db93=_0x367e7c;canvas['width']=innerWidth,canvas['height']=innerHeight,player['x']=canvas[_0x51db93(0x233)]/0x2-player['width']/0x2,player['y']=canvas[_0x51db93(0x1e9)]-0x64;}window[_0x367e7c(0x21a)](_0x367e7c(0x246),resizeCanvas),resizeCanvas();const enemies=[],hearts=[];let enemyBullets=[];const keys={};addEventListener(_0x367e7c(0x1f7),_0x137990=>keys[_0x137990[_0x367e7c(0x1f1)]]=!![]),addEventListener(_0x367e7c(0x20e),_0x54050c=>keys[_0x54050c[_0x367e7c(0x1f1)]]=![]),setInterval(()=>{const _0x55e3e1=_0x367e7c;if(player['bullets'][_0x55e3e1(0x226)]<0x5)player[_0x55e3e1(0x21e)][_0x55e3e1(0x1ea)]({'x':player['x']+player['width']/0x2-0x5,'y':player['y']});},0x1f4),setInterval(()=>{const _0x57ba30=_0x367e7c;if(Math[_0x57ba30(0x208)]()<0.5)enemies[_0x57ba30(0x1ea)]({'x':Math['random']()*(canvas['width']-0x28),'y':-0x28,'width':0x28,'height':0x28});},0x320),setInterval(()=>{const _0x12b3ed=_0x367e7c;if(Math['random']()<0.3)hearts[_0x12b3ed(0x1ea)]({'x':Math[_0x12b3ed(0x208)]()*(canvas[_0x12b3ed(0x233)]-0x1e),'y':-0x1e,'width':0x1e,'height':0x1e});},0x1388);let musicStarted=![];function tryStartMusic(){const _0xaacaad=_0x367e7c;!musicStarted&&!sessionStorage[_0xaacaad(0x215)](_0xaacaad(0x21b))&&bgMusic['play']()[_0xaacaad(0x1f6)](()=>{const _0x324856=_0xaacaad;musicStarted=!![],sessionStorage[_0x324856(0x22a)](_0x324856(0x21b),_0x324856(0x1f0));})[_0xaacaad(0x1ef)](()=>{});}function lerp(_0x2a73f1,_0xc92ca7,_0x39dee0){return(0x1-_0x39dee0)*_0x2a73f1+_0x39dee0*_0xc92ca7;}function update(){const _0x113444=_0x367e7c,_0x274cd2=getIndexFingerTip();let _0x471d55=![];if(_0x274cd2){const _0x1a1af1=(0x1-_0x274cd2['x'])*canvas[_0x113444(0x233)]-player[_0x113444(0x233)]/0x2,_0x499b10=_0x274cd2['y']*canvas[_0x113444(0x1e9)]-player[_0x113444(0x1e9)]/0x2;if(Math[_0x113444(0x218)](player['x']-_0x1a1af1)>0x2||Math[_0x113444(0x218)](player['y']-_0x499b10)>0x2)_0x471d55=!![];player['x']=lerp(player['x'],Math[_0x113444(0x240)](Math['max'](_0x1a1af1,0x0),canvas[_0x113444(0x233)]-player[_0x113444(0x233)]),0.15),player['y']=lerp(player['y'],Math[_0x113444(0x240)](Math[_0x113444(0x1ee)](_0x499b10,0x0),canvas[_0x113444(0x1e9)]-player[_0x113444(0x1e9)]),0.15);}else keys[_0x113444(0x228)]&&(player['x']-=player[_0x113444(0x237)],_0x471d55=!![]),keys[_0x113444(0x210)]&&(player['x']+=player[_0x113444(0x237)],_0x471d55=!![]),keys['ArrowUp']&&(player['y']-=player[_0x113444(0x237)],_0x471d55=!![]),keys['ArrowDown']&&(player['y']+=player[_0x113444(0x237)],_0x471d55=!![]);if(_0x471d55)tryStartMusic();player[_0x113444(0x21e)][_0x113444(0x20c)](_0x32b629=>_0x32b629['y']-=0x8),player[_0x113444(0x21e)]=player['bullets'][_0x113444(0x216)](_0x1e6727=>_0x1e6727['y']>-0x14),enemyBullets[_0x113444(0x20c)](_0x28edbe=>_0x28edbe['y']+=0x5),enemyBullets=enemyBullets['filter'](_0x5a523f=>_0x5a523f['y']<canvas[_0x113444(0x1e9)]),enemies[_0x113444(0x20c)](_0x33404=>{const _0x3d31ca=_0x113444;_0x33404['y']+=0x2;if(Math['random']()<0.01)enemyBullets[_0x3d31ca(0x1ea)]({'x':_0x33404['x']+_0x33404[_0x3d31ca(0x233)]/0x2-2.5,'y':_0x33404['y']+_0x33404[_0x3d31ca(0x1e9)]});}),hearts['forEach'](_0x3d1204=>_0x3d1204['y']+=0x2),enemies['forEach']((_0x523ea4,_0x3a6f88)=>{const _0x50d22c=_0x113444;player['bullets']['forEach']((_0x49f46c,_0x3f4d42)=>{const _0x18f3e8=_0x57ad;_0x49f46c['x']<_0x523ea4['x']+_0x523ea4[_0x18f3e8(0x233)]&&_0x49f46c['x']+0xa>_0x523ea4['x']&&_0x49f46c['y']<_0x523ea4['y']+_0x523ea4[_0x18f3e8(0x1e9)]&&_0x49f46c['y']+0x14>_0x523ea4['y']&&(enemies['splice'](_0x3a6f88,0x1),player[_0x18f3e8(0x21e)]['splice'](_0x3f4d42,0x1),player['score']+=0xa,explodeSound[_0x18f3e8(0x245)]=0x0,explodeSound['play']());});if(player['x']<_0x523ea4['x']+_0x523ea4[_0x50d22c(0x233)]&&player['x']+player[_0x50d22c(0x233)]>_0x523ea4['x']&&player['y']<_0x523ea4['y']+_0x523ea4[_0x50d22c(0x1e9)]&&player['y']+player[_0x50d22c(0x1e9)]>_0x523ea4['y']){enemies[_0x50d22c(0x23b)](_0x3a6f88,0x1),player[_0x50d22c(0x232)]--,explodeSound[_0x50d22c(0x245)]=0x0,explodeSound[_0x50d22c(0x243)]();if(player[_0x50d22c(0x232)]<=0x0)endGame();}}),enemyBullets[_0x113444(0x20c)]((_0x4127e9,_0x49366f)=>{const _0x4eda2e=_0x113444;if(_0x4127e9['x']<player['x']+player[_0x4eda2e(0x233)]&&_0x4127e9['x']+0x5>player['x']&&_0x4127e9['y']<player['y']+player[_0x4eda2e(0x1e9)]&&_0x4127e9['y']+0xa>player['y']){enemyBullets[_0x4eda2e(0x23b)](_0x49366f,0x1),player[_0x4eda2e(0x232)]--,explodeSound[_0x4eda2e(0x245)]=0x0,explodeSound['play']();if(player[_0x4eda2e(0x232)]<=0x0)endGame();}}),hearts['forEach']((_0x4656eb,_0x3280b6)=>{const _0x2f905a=_0x113444;player['x']<_0x4656eb['x']+_0x4656eb[_0x2f905a(0x233)]&&player['x']+player[_0x2f905a(0x233)]>_0x4656eb['x']&&player['y']<_0x4656eb['y']+_0x4656eb[_0x2f905a(0x1e9)]&&player['y']+player['height']>_0x4656eb['y']&&(hearts[_0x2f905a(0x23b)](_0x3280b6,0x1),player[_0x2f905a(0x232)]++,heartSound['currentTime']=0x0,heartSound[_0x2f905a(0x243)]());});}function draw(){const _0x4f5e41=_0x367e7c,_0x16f896=video[_0x4f5e41(0x212)]/video[_0x4f5e41(0x202)],_0x26036f=canvas[_0x4f5e41(0x233)]/canvas[_0x4f5e41(0x1e9)];let _0x4106cc,_0x9f877b,_0x2a043a,_0x26817f;_0x16f896>_0x26036f?(_0x9f877b=canvas['height'],_0x4106cc=_0x16f896*_0x9f877b,_0x2a043a=(canvas[_0x4f5e41(0x233)]-_0x4106cc)/0x2,_0x26817f=0x0):(_0x4106cc=canvas[_0x4f5e41(0x233)],_0x9f877b=_0x4106cc/_0x16f896,_0x2a043a=0x0,_0x26817f=(canvas[_0x4f5e41(0x1e9)]-_0x9f877b)/0x2),ctx[_0x4f5e41(0x235)](),ctx['scale'](-0x1,0x1),ctx[_0x4f5e41(0x22c)](video,-_0x2a043a-_0x4106cc,_0x26817f,_0x4106cc,_0x9f877b),ctx[_0x4f5e41(0x1f8)](),ctx[_0x4f5e41(0x22c)](playerImg,player['x'],player['y'],player[_0x4f5e41(0x233)],player['height']),ctx[_0x4f5e41(0x20a)]=_0x4f5e41(0x211),ctx['lineWidth']=0x3,ctx['beginPath'](),ctx[_0x4f5e41(0x229)](player['x']+player[_0x4f5e41(0x233)]/0x2,player['y']+player[_0x4f5e41(0x1e9)]/0x2,player[_0x4f5e41(0x233)]/1.5,0x0,Math['PI']*0x2),ctx[_0x4f5e41(0x1ed)](),player['bullets']['forEach'](_0x1db8da=>ctx[_0x4f5e41(0x22c)](bulletImg,_0x1db8da['x'],_0x1db8da['y'],0xa,0x14)),enemies['forEach'](_0x42e20f=>ctx[_0x4f5e41(0x22c)](enemyImg,_0x42e20f['x'],_0x42e20f['y'],_0x42e20f[_0x4f5e41(0x233)],_0x42e20f['height'])),hearts[_0x4f5e41(0x20c)](_0x11ec49=>ctx[_0x4f5e41(0x22c)](heartImg,_0x11ec49['x'],_0x11ec49['y'],_0x11ec49['width'],_0x11ec49[_0x4f5e41(0x1e9)])),ctx[_0x4f5e41(0x1fb)]=_0x4f5e41(0x22b),enemyBullets[_0x4f5e41(0x20c)](_0x443282=>ctx[_0x4f5e41(0x1fc)](_0x443282['x'],_0x443282['y'],0x5,0xa)),ctx['fillStyle']=_0x4f5e41(0x1f2),ctx[_0x4f5e41(0x224)]=_0x4f5e41(0x227),ctx[_0x4f5e41(0x213)](_0x4f5e41(0x242)+player[_0x4f5e41(0x20b)],0xa,0x14),ctx[_0x4f5e41(0x213)](_0x4f5e41(0x20d)+player[_0x4f5e41(0x232)],canvas['width']-0x50,0x14);}function endGame(){const _0xc0597e=_0x367e7c,_0x3457a6=document[_0xc0597e(0x238)](_0xc0597e(0x23c));_0x3457a6[_0xc0597e(0x1f5)][_0xc0597e(0x231)]=_0xc0597e(0x214),_0x3457a6[_0xc0597e(0x1f5)]['top']='50%',_0x3457a6[_0xc0597e(0x1f5)][_0xc0597e(0x21f)]=_0xc0597e(0x1f3),_0x3457a6[_0xc0597e(0x1f5)][_0xc0597e(0x236)]='translate(-50%,\x20-50%)',_0x3457a6[_0xc0597e(0x1f5)][_0xc0597e(0x22e)]='30px',_0x3457a6[_0xc0597e(0x1f5)][_0xc0597e(0x1fe)]='#222',_0x3457a6[_0xc0597e(0x1f5)][_0xc0597e(0x244)]=_0xc0597e(0x1f2),_0x3457a6['style'][_0xc0597e(0x1ff)]=_0xc0597e(0x217),_0x3457a6[_0xc0597e(0x1f5)][_0xc0597e(0x201)]=_0xc0597e(0x222),_0x3457a6['style'][_0xc0597e(0x23f)]=_0xc0597e(0x1f9),_0x3457a6['innerHTML']=_0xc0597e(0x204)+player[_0xc0597e(0x20b)]+_0xc0597e(0x1eb),setTimeout(()=>{const _0x52d5c=_0xc0597e,_0x4f8f2d=document[_0x52d5c(0x223)](_0x52d5c(0x23a));_0x4f8f2d&&(_0x4f8f2d[_0x52d5c(0x23e)]=()=>{const _0x4a2bb2=_0x52d5c;sessionStorage[_0x4a2bb2(0x209)](_0x4a2bb2(0x21b)),location[_0x4a2bb2(0x203)]();});},0x0),document[_0xc0597e(0x21d)][_0xc0597e(0x230)](_0x3457a6);}function gameLoop(){update(),draw(),requestAnimationFrame(gameLoop);}
